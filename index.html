<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Where Does The Water Go?</title>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.0/jquery-ui.min.js"></script>
    <link rel="stylesheet" href="http://code.jquery.com/ui/1.12.0/themes/smoothness/jquery-ui.css" />
    <!--<script type="text/javascript" src="jquery-3.1.0.min.js"></script>-->

    <style>

    #resizable { width: 600px; height: 200px; overflow:hidden; padding-bottom: 20px; padding-right: 20px; }

    #YTscript { width: 100%; height: 100%; padding: 0.5em; overflow: auto;} 

    </style>

</head>
<body>
    <div id="player"></div>
    <div id="resizable">
        <div id="YTscript" style="overflow:auto;"></div>
    </div>

    <script type="text/javascript">

        var tag = document.createElement('script');

        tag.src = "https://www.youtube.com/iframe_api";
        var firstScriptTag = document.getElementsByTagName('script')[0];
        firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

        var player;

        function onYouTubeIframeAPIReady() {
                player = new YT.Player('player', {
                    height: '390',
                    width: '640',
                    videoId: "gV6253ap0WU",
                    events: {
                        'onReady': onPlayerReady
                    }
                });
        }

        function onPlayerReady(event) {
            player.setPlaybackRate(1);
            event.target.playVideo();
        }

        var textArray = [{"text":"Hey Tim (oh ah). Listen man I cut my hands really bad. Can I borrow some of your gauze?","time":18},{"text":"Help yourself.\n        Thanks.","time":25},{"text":"(wrapping hands in gauze) (squirting caramel syrup into popcorn)","time":28},{"text":"Hey, what are you up to? \n        Well, I'm making some caramel popcorn for my very own Tairy Greene film festival","time":33},{"text":"There's no movie theater here, where's the projector and all the films?","time":38},{"text":"Eric I don't need any of that stuff, cuz I've got (looks at camera), The Tairy Greene Machine.","time":41},{"text":"Here we go.\n        That thing looks really cool Tim.","time":49},{"text":"The Tairy Greene Machine contains every movie, TV show, and public appearance that Tairy Greene ever made.","time":51},{"text":"Nice.\n        Bullseye.","time":57},{"text":"That thing looks extremely complicated, I mean I can't even operate my VCR at home in my condo.","time":58},{"text":"Eric the Tairy Greene Machine is so easy to use even you can use it.","time":63},{"text":"Nice.\n        You hit the nail on the head.\n        Also looks like it requires tons of electricity.","time":67},{"text":"That's where you're completely wrong Eric. The Tairy Greene Machine operates with good old-fashioned American tap water.","time":71},{"text":"Nice.\n        Bullseye.","time":76},{"text":"(Silence) Let me show you how it works. Right","time":78},{"text":"What we are gonna do is take this hose. And why don't you turn the water on.\n        Mkay, it's on.\n        Just connect this hose right up there to the Cinco proof faucet.","time":82},{"text":"Does it fit on here?\n        Yeah that should should fit f-fine.\n        Do you not. Come on. Let me try it. Alright, we got it, what's the next step?","time":90},{"text":"Alright, well we're gonna needa get that temperature to 75 degrees exactly or this boy won't turn on, so why don't you give me a little heat.","time":98},{"text":"That's too much, way way too much.\n        The hot. It's all the way hot..on hot.","time":103},{"text":"Lose the heat, it's at a hundred degrees, add cool.\n        Hot or Cold!?\n        Hot hot hot.","time":107},{"text":"Okay take it off you're good.","time":112},{"text":"Alright don't do no' don't do nothing.","time":113},{"text":"That's it. Bullseye.","time":115},{"text":"There it is!\n        Bullseye.\n        Nice.\n        We're ready to watch one of Tairy's finest films.\n        Enjoy the movie.","time":117}];

        function createSpan(content, time) {
            var span = document.createElement('span');
            span.dataset.time = time;
            span.innerHTML = content + "<br />";
            $("#YTscript").append(span);
        }

        textArray.forEach(function(AE) {
            createSpan(AE.text,AE.time);
        })

        $("span").click(function() {
            var time = $(this).data("time");
            console.log(time);
            player.seekTo(time);
        });
        $( "#resizable" ).resizable();


    </script>
</body>
</html>